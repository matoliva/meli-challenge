(this["webpackJsonpml-challenge"]=this["webpackJsonpml-challenge"]||[]).push([[0],{18:function(e,t,c){},19:function(e,t,c){"use strict";c.r(t);var i=c(0),n=c.n(i),a=c(10),r=c.n(a),s=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,20)).then((function(t){var c=t.getCLS,i=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),i(e),n(e),a(e),r(e)}))},d=c(3),o={search:""},u=Object(i.createContext)(o),l=c(5),j=c(2),b="data:image/png;base64,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",p=c(1),h=function(e){var t=e.item,c=t.id,i=t.title,n=t.price,a=t.currency,r=t.picture,s=t.condition,d=t.address,o="ARS"===a?"$":"uSd",u=r||b;return Object(p.jsx)(l.b,{to:"/item/".concat(c),style:{textDecoration:"none",color:"black"},children:Object(p.jsxs)("article",{id:c,className:"product-card pointer","data-testid":"product-card",children:[Object(p.jsx)("div",{className:"product-card__image",children:Object(p.jsx)("img",{src:u,alt:"product","data-testid":"product-card__image"})}),Object(p.jsxs)("div",{className:"product-card__description",children:[Object(p.jsxs)("p",{className:"product-card__description--price","data-testid":"product-card__currency",children:[o," ",n]}),Object(p.jsx)("p",{"data-testid":"product-card__title",children:i}),Object(p.jsx)("p",{children:s})]}),Object(p.jsx)("div",{className:"product-card__location",children:Object(p.jsx)("p",{"data-testid":"product-card__location",children:d})})]})})},O=function(e){var t=e.items;return Object(p.jsx)("section",{"data-testid":"product-list",children:t.map((function(e){return Object(p.jsx)(h,{item:e},e.id)}))})},m=c(6),x=c.n(m),v=c(7),f=function(){return Object(p.jsxs)("div",{className:"sk-chase",children:[Object(p.jsx)("div",{className:"sk-chase-dot"}),Object(p.jsx)("div",{className:"sk-chase-dot"}),Object(p.jsx)("div",{className:"sk-chase-dot"}),Object(p.jsx)("div",{className:"sk-chase-dot"}),Object(p.jsx)("div",{className:"sk-chase-dot"}),Object(p.jsx)("div",{className:"sk-chase-dot"})]})},g="https://api.mercadolibre.com",y=function(){var e=Object(i.useContext)(u).search,t=function(e){var t=Object(i.useState)(null),c=Object(d.a)(t,2),n=c[0],a=c[1],r=Object(i.useState)(!1),s=Object(d.a)(r,2),o=s[0],u=s[1],l=Object(i.useState)(null),j=Object(d.a)(l,2),b=j[0],p=j[1];return Object(i.useEffect)((function(){u(!0);var t=function(){var t=Object(v.a)(x.a.mark((function t(){var c,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return c=t.sent,t.next=6,c.json();case 6:i=t.sent,a(i),u(!1),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),p(t.t0),u(!1);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),{isLoading:o,apiData:n,serverError:b}}("".concat(g,"/sites/MLA/search?q=").concat(e,"&limit=4#json")),c=t.apiData,n=t.isLoading,a=Object(i.useState)([{id:"",title:"",price:0,currency:"",condition:"",address:"",picture:""}]),r=Object(d.a)(a,2),s=r[0],o=r[1];return Object(i.useEffect)((function(){!function(){var e;c&&(e=c.results.map((function(e){var t;return{id:e.id,title:e.title,price:e.price,currency:e.currency_id,address:null===e||void 0===e||null===(t=e.address)||void 0===t?void 0:t.city_name,picture:e.thumbnail,condition:e.condition}})),o(e))}()}),[c]),Object(p.jsx)("div",{"data-testid":"home-page",children:n?Object(p.jsx)(f,{}):Object(p.jsx)(O,{items:s})})},A=c(11),k=function(){var e=Object(j.g)().id,t=void 0===e?"":e,c=function(){var e=Object(i.useState)({width:void 0,height:void 0}),t=Object(d.a)(e,2),c=t[0],n=t[1];return Object(i.useEffect)((function(){function e(){n({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),c}(),n=function(e,t){var c=Object(i.useState)(null),n=Object(d.a)(c,2),a=n[0],r=n[1],s=Object(i.useState)(!1),o=Object(d.a)(s,2),u=o[0],l=o[1],j=Object(i.useState)(null),b=Object(d.a)(j,1)[0];return Object(i.useEffect)((function(){l(!0);var c=function(){var c=Object(v.a)(x.a.mark((function c(){var i,n,a;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Promise.all([fetch(e),fetch(t)]);case 3:return i=c.sent,c.next=6,Promise.all(i.map((function(e){return e.json()})));case 6:n=c.sent,a=Object(A.a)({},n[1]),n[0].plain_text=a.plain_text,r(n[0]),l(!1),c.next=15;break;case 13:c.prev=13,c.t0=c.catch(0);case 15:case"end":return c.stop()}}),c,null,[[0,13]])})));return function(){return c.apply(this,arguments)}}();c()}),[e,t]),{isLoading:u,apiData:a,serverError:b}}("".concat(g,"/items/").concat(t),"".concat(g,"/items/").concat(t,"/description")),a=n.apiData,r=Object(i.useState)({id:"",title:"",price:0,currency:"",condition:"",address:"",sold_quantity:0,picture:"",mobilePicture:"",desktopPicture:"",plain_text:""}),s=Object(d.a)(r,2),o=s[0],u=s[1];Object(i.useEffect)((function(){!function(){var e,t,c,i;a&&(e={id:a.id,title:a.title,price:a.price,currency:a.currency_id,address:null===a||void 0===a||null===(t=a.address)||void 0===t?void 0:t.city_name,picture:a.thumbnail,condition:a.condition,sold_quantity:a.sold_quantity,mobilePicture:null===(c=a.pictures[0])||void 0===c?void 0:c.url,desktopPicture:null===(i=a.pictures[2])||void 0===i?void 0:i.url,plain_text:a.plain_text},u(e))}()}),[a]);var l=o.title,h=o.price,O=o.currency,m=o.condition,f=o.sold_quantity,y=o.mobilePicture,k=o.desktopPicture,w=o.plain_text,N="ARS"===O?"$":"uSd",E=!!(c&&c.width&&c.width<768)?y:k;return Object(p.jsxs)("article",{className:"product-page","data-testid":"product-page",children:[Object(p.jsxs)("div",{className:"product-page__product",children:[Object(p.jsx)("img",{src:E||b,alt:l}),Object(p.jsxs)("div",{className:"product-page__product--buy",children:[Object(p.jsx)("p",{children:"".concat(m," - ").concat(f," vendidos")}),Object(p.jsx)("h3",{children:l}),Object(p.jsxs)("p",{className:"product-page__product--price",children:[N," ",h]}),Object(p.jsx)("button",{className:"btn pointer",children:"Comprar"})]})]}),Object(p.jsxs)("div",{className:"product-page__description",children:[Object(p.jsx)("h2",{children:"Descripci\xf3n del producto"}),Object(p.jsx)("p",{children:w})]})]})},w=c.p+"static/media/logo.aa2063ec.png",N=function(e){var t=e.children;return Object(p.jsxs)("header",{className:"header pointer","data-testid":"header",children:[Object(p.jsx)(l.b,{to:"/",children:Object(p.jsx)("img",{className:"header__logo",src:w,alt:"logo","data-testid":"logo"})}),t]})},E=function(){var e=Object(i.useState)(""),t=Object(d.a)(e,2),c=t[0],n=t[1],a=Object(i.useContext)(u).setSearch,r=Object(j.f)(),s=function(e){e.preventDefault(),c&&(a&&(a(c.trim()),r("/")),n(""))};return Object(p.jsx)("div",{className:"search-box",children:Object(p.jsxs)("form",{className:"search-box__form","data-testid":"search-box",children:[Object(p.jsx)("input",{"data-testid":"search-box__input",type:"text",className:"input-text",placeholder:" Nunca dejes de buscar",onChange:function(e){n(e.currentTarget.value)},onKeyDown:function(e){"Enter"===e.code&&s(e)},value:c}),Object(p.jsx)("button",{type:"submit","data-testid":"search-box__button",className:"search-box__form__icon pointer",onClick:s})]})})},S=function(e){var t=e.children;return Object(p.jsxs)("div",{className:"main",children:[Object(p.jsx)(N,{children:Object(p.jsx)(E,{})}),Object(p.jsx)("main",{className:"section",children:t})]})},Z=function(){return Object(p.jsx)(l.a,{children:Object(p.jsx)(S,{children:Object(p.jsxs)(j.c,{children:[Object(p.jsx)(j.a,{path:"item/:id",element:Object(p.jsx)(k,{})}),Object(p.jsx)(j.a,{path:"/",element:Object(p.jsx)(y,{})})]})})})},C=(c(18),function(){var e=Object(i.useState)("iphone"),t=Object(d.a)(e,2),c=t[0],n=t[1];return Object(p.jsx)(u.Provider,{value:{search:c,setSearch:n},children:Object(p.jsx)(Z,{})})});r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(C,{})}),document.getElementById("root")),s()}},[[19,1,2]]]);
//# sourceMappingURL=main.cf1eb2b7.chunk.js.map